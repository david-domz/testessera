.. testessera documentation master file, created by
   sphinx-quickstart on Sun Apr  7 23:20:09 2024.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

Welcome to testessera's documentation!
======================================

.. toctree::
   :maxdepth: 2
   :caption: Contents:

   highlights
   getting-started


Highlights
----------

- Minimize boilerplate test code and enhance test code readability.
- Supports protocols:
	- HTTP/REST
	- Kafka
- Smooth integration with pytest.
- Extensible.
	- RestClient and RestRequest can be derived for customization and minimal initialization.


Getting Started
---------------

Testing a REST Request

E.g. Let's say we are testing a service orders.

..sourcecode ::

	orders_client = RestClient(base_url='api.orders.test')

	response = orders_client.request(
		RestRequest('POST', '/orders', order_payload)
	)

	assert_rest_response(
		response,
		200,
		json_schema={
			'type': 'object',
			'properties': {
				'order_id': {'type': 'string'},
				'items': {'type': 'array'}
			},
			'required': ['order_id']
		}
	)

If the assertion fails an AssertionError exception will be raised.

..sourcecode::

	AssertionError: Expected status was 200 but got status 400 and response body INVALID_DATA


Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
